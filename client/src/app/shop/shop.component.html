<div class="container mt-5">
    <div class="row">
        <section class="col-3 mt-5">
            
            <h3 class="mt-5">Filters</h3>
        <h5 class="text-dark mt-4 me-2 dropdown-toggle" (click)="isSortCollapsed = !isSortCollapsed">Sort </h5>  

            <select 
            [collapse]="isSortCollapsed" 
            [isAnimated]="true"  
            class="form-select mb-4" 
            (change)="SortBy($event)">
                <option class="form-control mb-2" 
                *ngFor="let sorttype of sortOptions" 
                [value]="sorttype.value" >
                    {{sorttype.name}}
                </option>
            </select>
            
            <h5 class="text-dark mt-3 dropdown-toggle" (click)="isBrandsCollapsed = !isBrandsCollapsed" >Brands</h5>
            <ul  class="list-group" [collapse]="isBrandsCollapsed" [isAnimated]="true">
                <li  *ngFor="let brand of brands" 
                   [class.active]="brand.id === queryParams.BrandId"
                   class="list-group-item list-group-item-action"  (click)="SelectBrand(brand.id)" >{{brand.name}}</li>
            </ul>
            <h5 class="text-dark mt-3 dropdown-toggle" (click)="isTypesCollapsed = !isTypesCollapsed">Types</h5>
            <ul class="list-group" [collapse]="isTypesCollapsed" [isAnimated]="true">
                <li (click)="SelectType(type.id)" *ngFor="let type of types" 
                [class.active]="type.id === queryParams.TypeId"
                class="list-group-item list-group-item-action" >{{type.name}}</li>
            </ul>
            <div class="text-center mt-3">
            <button class="btn-outline-danger btn btn-sm " (click)="ResetFilters()">Reset filters</button>
           </div>
        </section>
        <section  class="col-9" >
            <div class="d-flex justify-content-between pb-2 mb-3 align-items-center">
                <span>Showing <strong>{{products.length}}</strong> out of <strong>{{count}}</strong> results</span>
                <form  class="d-flex">
                    <input type="search" class="form-control me-2" placeholder="search product">
                    <button class="btn btn-outline-primary me-2"><i class="bi bi-search"></i></button>
                    <button class="btn btn-outline-danger"><i class="bi bi-arrow-clockwise"></i></button>
                </form>
            </div>
            <div class="row row-cols-3 g-3">
                <app-shop-product-card *ngFor="let product of products" [product]="product"></app-shop-product-card>
            </div>
            <div class="text-warning mt-4" *ngIf="count == 0">
                <h4>No products were found</h4>
                <button class="btn btn-outline-danger" 
                (click)="ResetFilters() ">Refresh Filters</button>
            </div>

            <div class="d-flex justify-content-center mt-3">
                <pagination 
                [boundaryLinks]="true" 
                [totalItems]="count"
                [itemsPerPage]="queryParams.PageSize"
                (pageChanged)="ChangePange($event)"
                [maxSize]="10"
                previousText="&lsaquo;" nextText="&rsaquo;" 
                firstText="&laquo;" lastText="&raquo;">
 
               </pagination>
            </div>
        </section>
    </div>
</div>
